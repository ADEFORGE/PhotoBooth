{
  "app_log_file": [
    "2025-07-11 19:09:22,248 - INFO - \u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m",
    " * Running on all addresses (0.0.0.0)",
    " * Running on https://127.0.0.1:5000",
    " * Running on https://127.0.0.1:5000",
    "2025-07-11 19:09:22,249 - INFO - \u001b[33mPress CTRL+C to quit\u001b[0m",
    "2025-07-11 19:09:26,603 - INFO - [force_splash] Enter",
    "2025-07-11 19:09:26,603 - DEBUG - [force_splash] /share route, bypass splash",
    "2025-07-11 19:09:26,604 - INFO - [force_splash] Exit",
    "2025-07-11 19:09:26,604 - INFO - [/share] Enter endpoint",
    "2025-07-11 19:09:26,619 - INFO - Image uploaded to /tmp/uploaded_image.png",
    "2025-07-11 19:09:26,664 - DEBUG - STREAM b'IHDR' 16 13",
    "2025-07-11 19:09:26,665 - DEBUG - STREAM b'IDAT' 41 65536",
    "2025-07-11 19:09:26,666 - INFO - Uploaded file verified as image",
    "2025-07-11 19:09:26,666 - INFO - [HotspotShareImage.__init__] Enter",
    "2025-07-11 19:09:26,667 - INFO - [HotspotShareImage.__init__] Exit",
    "2025-07-11 19:09:26,667 - INFO - [run] Enter",
    "2025-07-11 19:09:26,667 - INFO - [generate_random_credentials] Enter",
    "2025-07-11 19:09:26,668 - INFO - Generated SSID=PhotoBooth_SUDQW4NH, Password=***hidden***",
    "2025-07-11 19:09:26,668 - INFO - [generate_random_credentials] Exit",
    "2025-07-11 19:09:26,668 - DEBUG - Credentials set",
    "2025-07-11 19:09:26,668 - INFO - [update_hostapd_conf] Enter",
    "2025-07-11 19:09:26,669 - DEBUG - Read hostapd.conf lines",
    "2025-07-11 19:09:26,670 - INFO - Updated ssid line: ssid=PhotoBooth_SUDQW4NH",
    "2025-07-11 19:09:26,670 - INFO - Updated ignore_broadcast_ssid line: 1",
    "2025-07-11 19:09:26,670 - INFO - Updated wpa_passphrase line",
    "2025-07-11 19:09:26,671 - INFO - hostapd config updated",
    "2025-07-11 19:09:26,671 - INFO - [update_hostapd_conf] Exit",
    "2025-07-11 19:09:26,671 - INFO - [copy_image] Enter",
    "2025-07-11 19:09:26,678 - INFO - Image copied to /etc/nodogsplash/htdocs/uploaded_image.png",
    "2025-07-11 19:09:26,678 - INFO - [copy_image] Exit",
    "2025-07-11 19:09:26,678 - INFO - [generate_qrcode] Enter",
    "2025-07-11 19:09:26,679 - DEBUG - QR directory ensured: /tmp",
    "2025-07-11 19:09:26,718 - INFO - QR code generated at /tmp/wifi_qr.png",
    "2025-07-11 19:09:26,718 - INFO - [generate_qrcode] Exit",
    "2025-07-11 19:09:26,719 - INFO - [update_splash_html] Enter",
    "2025-07-11 19:09:26,719 - DEBUG - Meta refresh updated",
    "2025-07-11 19:09:26,720 - DEBUG - Download link updated",
    "2025-07-11 19:09:26,720 - INFO - splash.html updated",
    "2025-07-11 19:09:26,720 - INFO - [update_splash_html] Exit",
    "2025-07-11 19:09:26,720 - INFO - [restart_services] Enter",
    "2025-07-11 19:09:26,721 - INFO - [configure_network] Enter",
    "2025-07-11 19:09:26,732 - DEBUG - Flushed IP addresses on wlan0",
    "2025-07-11 19:09:26,740 - DEBUG - Added IP 192.168.5.1/24 to wlan0",
    "2025-07-11 19:09:26,744 - DEBUG - Set wlan0 up",
    "2025-07-11 19:09:26,746 - DEBUG - Enabled IP forwarding",
    "2025-07-11 19:09:26,750 - DEBUG - Set up NAT masquerading",
    "2025-07-11 19:09:26,753 - DEBUG - Set up FORWARD rule for established connections",
    "2025-07-11 19:09:26,756 - DEBUG - Set up FORWARD rule for outgoing connections",
    "2025-07-11 19:09:26,757 - INFO - Network configured",
    "2025-07-11 19:09:26,757 - INFO - [configure_network] Exit",
    "2025-07-11 19:09:27,908 - INFO - Restarted service: hostapd",
    "2025-07-11 19:09:28,186 - INFO - Restarted service: dnsmasq",
    "2025-07-11 19:09:28,922 - INFO - Restarted service: nodogsplash",
    "2025-07-11 19:09:28,922 - INFO - Services restarted",
    "2025-07-11 19:09:28,923 - INFO - [restart_services] Exit",
    "2025-07-11 19:09:28,923 - INFO - run completed",
    "2025-07-11 19:09:28,923 - INFO - [run] Exit",
    "2025-07-11 19:09:28,923 - INFO - [get_credentials] Enter",
    "2025-07-11 19:09:28,923 - INFO - get_credentials returning credentials: ('PhotoBooth_SUDQW4NH', 'LHYM5NhjpqyC')",
    "2025-07-11 19:09:28,923 - INFO - [get_credentials] Exit",
    "2025-07-11 19:09:28,924 - INFO - Hotspot started and timer set for shutdown",
    "2025-07-11 19:09:28,940 - DEBUG - Systemd logs retrieved for hostapd",
    "2025-07-11 19:09:28,956 - DEBUG - Systemd logs retrieved for dnsmasq",
    "2025-07-11 19:09:28,973 - DEBUG - Systemd logs retrieved for nodogsplash",
    "2025-07-11 19:09:28,990 - DEBUG - Systemd logs retrieved for flask_rpi.service",
    "2025-07-11 19:09:28,990 - INFO - [/share] Added systemd logs to response",
    "2025-07-11 19:09:28,991 - INFO - [/share] Exit endpoint (success)",
    "2025-07-11 19:09:28,991 - INFO - [attach_app_log_to_response] Enter for app.log"
  ],
  "journal": {
    "dnsmasq": [
      "Jul 11 19:09:21 raspberrypi systemd[1]: Starting dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server...",
      "Jul 11 19:09:21 raspberrypi dnsmasq[5963]: started, version 2.90 cachesize 150",
      "Jul 11 19:09:21 raspberrypi dnsmasq[5963]: compile time options: IPv6 GNU-getopt DBus no-UBus i18n IDN2 DHCP DHCPv6 no-Lua TFTP conntrack ipset nftset auth cryptohash DNSSEC loop-detect inotify dumpfile",
      "Jul 11 19:09:21 raspberrypi dnsmasq-dhcp[5963]: DHCP, IP range 192.168.5.10 -- 192.168.5.100, lease time 1d",
      "Jul 11 19:09:21 raspberrypi dnsmasq-dhcp[5963]: DHCP, sockets bound exclusively to interface wlan0",
      "Jul 11 19:09:21 raspberrypi dnsmasq[5963]: no servers found in /run/dnsmasq/resolv.conf, will retry",
      "Jul 11 19:09:21 raspberrypi dnsmasq[5963]: read /etc/hosts - 7 names",
      "Jul 11 19:09:22 raspberrypi systemd[1]: Started dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server.",
      "Jul 11 19:09:27 raspberrypi systemd[1]: Stopping dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server...",
      "Jul 11 19:09:28 raspberrypi dnsmasq[5963]: exiting on receipt of SIGTERM",
      "Jul 11 19:09:28 raspberrypi systemd[1]: dnsmasq.service: Deactivated successfully.",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Stopped dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server.",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Starting dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server...",
      "Jul 11 19:09:28 raspberrypi dnsmasq[6239]: started, version 2.90 cachesize 150",
      "Jul 11 19:09:28 raspberrypi dnsmasq[6239]: compile time options: IPv6 GNU-getopt DBus no-UBus i18n IDN2 DHCP DHCPv6 no-Lua TFTP conntrack ipset nftset auth cryptohash DNSSEC loop-detect inotify dumpfile",
      "Jul 11 19:09:28 raspberrypi dnsmasq-dhcp[6239]: DHCP, IP range 192.168.5.10 -- 192.168.5.100, lease time 1d",
      "Jul 11 19:09:28 raspberrypi dnsmasq-dhcp[6239]: DHCP, sockets bound exclusively to interface wlan0",
      "Jul 11 19:09:28 raspberrypi dnsmasq[6239]: no servers found in /run/dnsmasq/resolv.conf, will retry",
      "Jul 11 19:09:28 raspberrypi dnsmasq[6239]: read /etc/hosts - 7 names",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Started dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server."
    ],
    "flask_rpi.service": [
      "Jul 11 19:09:21 raspberrypi systemd[1]: Stopping flask_rpi.service - Flask HTTP Service for Raspberry Pi Image Exchange...",
      "Jul 11 19:09:21 raspberrypi systemd[1]: flask_rpi.service: Deactivated successfully.",
      "Jul 11 19:09:21 raspberrypi systemd[1]: Stopped flask_rpi.service - Flask HTTP Service for Raspberry Pi Image Exchange.",
      "Jul 11 19:09:21 raspberrypi systemd[1]: flask_rpi.service: Consumed 1.553s CPU time.",
      "Jul 11 19:09:21 raspberrypi systemd[1]: Started flask_rpi.service - Flask HTTP Service for Raspberry Pi Image Exchange.",
      "Jul 11 19:09:22 raspberrypi python3[5939]:  * Serving Flask app 'app'",
      "Jul 11 19:09:22 raspberrypi python3[5939]:  * Debug mode: off",
      "Jul 11 19:09:22 raspberrypi python3[5939]: 2025-07-11 19:09:22,248 - INFO - WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.",
      "Jul 11 19:09:22 raspberrypi python3[5939]:  * Running on all addresses (0.0.0.0)",
      "Jul 11 19:09:22 raspberrypi python3[5939]:  * Running on https://127.0.0.1:5000",
      "Jul 11 19:09:22 raspberrypi python3[5939]:  * Running on https://127.0.0.1:5000",
      "Jul 11 19:09:22 raspberrypi python3[5939]: 2025-07-11 19:09:22,249 - INFO - Press CTRL+C to quit",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,603 - INFO - [force_splash] Enter",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,603 - DEBUG - [force_splash] /share route, bypass splash",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,604 - INFO - [force_splash] Exit",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,604 - INFO - [/share] Enter endpoint",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,619 - INFO - Image uploaded to /tmp/uploaded_image.png",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,664 - DEBUG - STREAM b'IHDR' 16 13",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,665 - DEBUG - STREAM b'IDAT' 41 65536",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,666 - INFO - Uploaded file verified as image",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,666 - INFO - [HotspotShareImage.__init__] Enter",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,667 - INFO - [HotspotShareImage.__init__] Exit",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,667 - INFO - [run] Enter",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,667 - INFO - [generate_random_credentials] Enter",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,668 - INFO - Generated SSID=PhotoBooth_SUDQW4NH, Password=***hidden***",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,668 - INFO - [generate_random_credentials] Exit",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,668 - DEBUG - Credentials set",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,668 - INFO - [update_hostapd_conf] Enter",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,669 - DEBUG - Read hostapd.conf lines",
      "Jul 11 19:09:26 raspberrypi python3[5939]: 2025-07-11 19:09:26,670 - INFO - Updated ssid line: ssid=PhotoBooth_SUDQW4NH"
    ],
    "hostapd": [
      "Jul 11 19:09:21 raspberrypi systemd[1]: Starting hostapd.service - Access point and authentication server for Wi-Fi and Ethernet...",
      "Jul 11 19:09:21 raspberrypi hostapd[5944]: wlan0: interface state UNINITIALIZED->COUNTRY_UPDATE",
      "Jul 11 19:09:21 raspberrypi hostapd[5944]: wlan0: interface state COUNTRY_UPDATE->ENABLED",
      "Jul 11 19:09:21 raspberrypi hostapd[5944]: wlan0: AP-ENABLED",
      "Jul 11 19:09:21 raspberrypi systemd[1]: Started hostapd.service - Access point and authentication server for Wi-Fi and Ethernet.",
      "Jul 11 19:09:26 raspberrypi systemd[1]: Stopping hostapd.service - Access point and authentication server for Wi-Fi and Ethernet...",
      "Jul 11 19:09:27 raspberrypi systemd[1]: hostapd.service: Deactivated successfully.",
      "Jul 11 19:09:27 raspberrypi systemd[1]: Stopped hostapd.service - Access point and authentication server for Wi-Fi and Ethernet.",
      "Jul 11 19:09:27 raspberrypi systemd[1]: Starting hostapd.service - Access point and authentication server for Wi-Fi and Ethernet...",
      "Jul 11 19:09:27 raspberrypi hostapd[6194]: wlan0: interface state UNINITIALIZED->COUNTRY_UPDATE",
      "Jul 11 19:09:27 raspberrypi hostapd[6194]: wlan0: interface state COUNTRY_UPDATE->ENABLED",
      "Jul 11 19:09:27 raspberrypi hostapd[6194]: wlan0: AP-ENABLED",
      "Jul 11 19:09:27 raspberrypi systemd[1]: Started hostapd.service - Access point and authentication server for Wi-Fi and Ethernet."
    ],
    "nodogsplash": [
      "Jul 11 19:09:22 raspberrypi systemd[1]: Starting nodogsplash.service - NoDogSplash Captive Portal...",
      "Jul 11 19:09:22 raspberrypi nodogsplash[6003]: [5][Fri Jul 11 19:09:22 2025][6003](src/main.c:354) Starting as daemon, forking to background",
      "Jul 11 19:09:22 raspberrypi nodogsplash[6004]: [5][Fri Jul 11 19:09:22 2025][6004](src/main.c:273) Detected gateway wlan0 at 192.168.5.1 (e4:5f:01:a7:8a:5c)",
      "Jul 11 19:09:22 raspberrypi nodogsplash[6004]: [5][Fri Jul 11 19:09:22 2025][6004](src/main.c:289) Created web server on 192.168.5.1",
      "Jul 11 19:09:22 raspberrypi systemd[1]: Started nodogsplash.service - NoDogSplash Captive Portal.",
      "Jul 11 19:09:22 raspberrypi nodogsplash[6004]: [5][Fri Jul 11 19:09:22 2025][6004](src/fw_iptables.c:380) Initializing firewall rules",
      "Jul 11 19:09:28 raspberrypi nodogsplash[6004]: [5][Fri Jul 11 19:09:28 2025][6004](src/main.c:131) Handler for termination caught signal 15",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Stopping nodogsplash.service - NoDogSplash Captive Portal...",
      "Jul 11 19:09:28 raspberrypi systemd[1]: nodogsplash.service: Main process exited, code=killed, status=9/KILL",
      "Jul 11 19:09:28 raspberrypi systemd[1]: nodogsplash.service: Failed with result 'signal'.",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Stopped nodogsplash.service - NoDogSplash Captive Portal.",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Starting nodogsplash.service - NoDogSplash Captive Portal...",
      "Jul 11 19:09:28 raspberrypi nodogsplash[6364]: [5][Fri Jul 11 19:09:28 2025][6364](src/main.c:354) Starting as daemon, forking to background",
      "Jul 11 19:09:28 raspberrypi nodogsplash[6366]: [5][Fri Jul 11 19:09:28 2025][6366](src/main.c:273) Detected gateway wlan0 at 192.168.5.1 (e4:5f:01:a7:8a:5c)",
      "Jul 11 19:09:28 raspberrypi nodogsplash[6366]: [5][Fri Jul 11 19:09:28 2025][6366](src/main.c:289) Created web server on 192.168.5.1",
      "Jul 11 19:09:28 raspberrypi systemd[1]: Started nodogsplash.service - NoDogSplash Captive Portal."
    ]
  },
  "password": "LHYM5NhjpqyC",
  "qr_code_base64": "iVBORw0KGgoAAAANSUhEUgAAAZoAAAGaAQAAAAAefbjOAAAC+0lEQVR4nO2bQW6zMBCF3/xGytLcIEcxN6t6M3yU3MAsI4Hev5ixoe2qSgtpGC8qoPmUQRmN5z3bQnx75H/fZwCHHHLIIYcccug1IbHRAbldAUu9muoHhkPCc2h/KJEkC4BUAjliERkQCMQZMiCQJPkR2i88h/aHJisAItcZQCQBLAJMIgCAWjeOCc+h46BUAHm7iSD3dsvxV77JoaeEus8PsgBAnDti6qBp8SPf5NDfgiKppUD7iKmDDJHkGEkZAJCcjwvPob0hVRi9PRRtKqcO8nZbVYd1FH/lnRx6YNbYWtnxLkC8CzEtwmyN5kHhObQ7BFWVqQAAQpOggM4kLPUZqgTl+OTv5NAjEOxXLsDaTGjPkAqARBOjJGd4RpwHijOAqUO1pAA1JXIfyHFafcxjwnNoN6jWCM7gWKcJdSE24iLWq+Q14hyQSG/iAvl6F02BrEXB+ghNlWPCc2j/GjHGGWunYP+Ks/YRHDUtvLM8FRSoRSFLVxe+bhfyvQ+UQWeNxf2IE0Bb9alNggqOQKRia586Nh958ndy6BFo21k2K8LayypLOUZqbviscRZIRC5E9SeJ3C+C3C8icrV1cVvrOCQ8h/afNWwE6h9bA2+tZCsPXiNeHmoZEfSH3wyTGUA1M11rnAFq6pO1MkS23Ajcutitt/CMeGWo1ohYPcsRZldqWph76esap4Gq+uS2Cpjm3FSGrX/lGXEKqBrYfO/tliyLrLvqVI4cFZ5Du0GbGqG3rY/YeBQAdLud9xGvD21VZdOh63aJ1am0icUz4hzQeqaLJGmHNup2CZtTfJ/lmaDmWFta3Dog8S7IcrFGM5Wgu7L/yjs59PhKV7H1LZOgBYD5mEBdHPdZ42xQ7hdZt9Zx1K3ZZlQcH55Dvw19OdOlY7oQuQ8zMF0oaQSQbq4+zwDVjIgEMAHMQ5iRCEgiAMQC6sk/hP3Dc2h36MvaZ6qb58ypLKibZQrcszwB9PlMF4G5XQXW41z88KknfyeHHHLIIYcccmgf6D9Cd5BRYm9t8gAAAABJRU5ErkJggg==",
  "ssid": "PhotoBooth_SUDQW4NH"
}