{
  "app_log_file": [
    "2025-07-11 19:25:17,047 - INFO - \u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m",
    " * Running on all addresses (0.0.0.0)",
    " * Running on https://127.0.0.1:5000",
    " * Running on https://127.0.0.1:5000",
    "2025-07-11 19:25:17,048 - INFO - \u001b[33mPress CTRL+C to quit\u001b[0m",
    "2025-07-11 19:43:41,115 - INFO - [force_splash] Enter",
    "2025-07-11 19:43:41,116 - DEBUG - [force_splash] /share route, bypass splash",
    "2025-07-11 19:43:41,116 - INFO - [force_splash] Exit",
    "2025-07-11 19:43:41,117 - INFO - [/share] Enter endpoint",
    "2025-07-11 19:43:41,137 - INFO - Image uploaded to /tmp/uploaded_image.png",
    "2025-07-11 19:43:41,193 - DEBUG - STREAM b'IHDR' 16 13",
    "2025-07-11 19:43:41,194 - DEBUG - STREAM b'IDAT' 41 65536",
    "2025-07-11 19:43:41,195 - INFO - Uploaded file verified as image",
    "2025-07-11 19:43:41,196 - INFO - [HotspotShareImage.__init__] Enter",
    "2025-07-11 19:43:41,196 - INFO - [HotspotShareImage.__init__] Exit",
    "2025-07-11 19:43:41,196 - INFO - [run] Enter",
    "2025-07-11 19:43:41,197 - INFO - [generate_random_credentials] Enter",
    "2025-07-11 19:43:41,197 - INFO - Generated SSID=PhotoBooth_UKXQRTXG, Password=***hidden***",
    "2025-07-11 19:43:41,198 - INFO - [generate_random_credentials] Exit",
    "2025-07-11 19:43:41,198 - DEBUG - Credentials set",
    "2025-07-11 19:43:41,198 - INFO - [update_hostapd_conf] Enter",
    "2025-07-11 19:43:41,199 - DEBUG - Read hostapd.conf lines",
    "2025-07-11 19:43:41,199 - INFO - Updated ssid line: ssid=PhotoBooth_UKXQRTXG",
    "2025-07-11 19:43:41,200 - INFO - Updated ignore_broadcast_ssid line: 1",
    "2025-07-11 19:43:41,200 - INFO - Updated wpa_passphrase line",
    "2025-07-11 19:43:41,201 - INFO - hostapd config updated",
    "2025-07-11 19:43:41,201 - INFO - [update_hostapd_conf] Exit",
    "2025-07-11 19:43:41,202 - INFO - [copy_image] Enter",
    "2025-07-11 19:43:41,211 - INFO - Image copied to /etc/nodogsplash/htdocs/uploaded_image.png",
    "2025-07-11 19:43:41,211 - INFO - [copy_image] Exit",
    "2025-07-11 19:43:41,212 - INFO - [generate_qrcode] Enter",
    "2025-07-11 19:43:41,212 - DEBUG - QR directory ensured: /tmp",
    "2025-07-11 19:43:41,249 - INFO - QR code generated at /tmp/wifi_qr.png",
    "2025-07-11 19:43:41,249 - INFO - [generate_qrcode] Exit",
    "2025-07-11 19:43:41,249 - INFO - [update_splash_html] Enter",
    "2025-07-11 19:43:41,250 - DEBUG - Meta refresh updated",
    "2025-07-11 19:43:41,250 - DEBUG - Download link updated",
    "2025-07-11 19:43:41,251 - INFO - splash.html updated",
    "2025-07-11 19:43:41,251 - INFO - [update_splash_html] Exit",
    "2025-07-11 19:43:41,251 - INFO - [restart_services] Enter",
    "2025-07-11 19:43:41,251 - INFO - [configure_network] Enter",
    "2025-07-11 19:43:41,282 - DEBUG - Flushed IP addresses on wlan0",
    "2025-07-11 19:43:41,289 - DEBUG - Added IP 192.168.5.1/24 to wlan0",
    "2025-07-11 19:43:41,293 - DEBUG - Set wlan0 up",
    "2025-07-11 19:43:41,299 - DEBUG - Enabled IP forwarding",
    "2025-07-11 19:43:41,309 - DEBUG - Set up NAT masquerading",
    "2025-07-11 19:43:41,314 - DEBUG - Set up FORWARD rule for established connections",
    "2025-07-11 19:43:41,317 - DEBUG - Set up FORWARD rule for outgoing connections",
    "2025-07-11 19:43:41,317 - INFO - Network configured",
    "2025-07-11 19:43:41,318 - INFO - [configure_network] Exit",
    "2025-07-11 19:43:42,462 - INFO - Restarted service: hostapd",
    "2025-07-11 19:43:42,607 - INFO - Restarted service: dnsmasq",
    "2025-07-11 19:43:43,255 - INFO - Restarted service: nodogsplash",
    "2025-07-11 19:43:43,255 - INFO - Services restarted",
    "2025-07-11 19:43:43,255 - INFO - [restart_services] Exit",
    "2025-07-11 19:43:43,255 - INFO - run completed",
    "2025-07-11 19:43:43,255 - INFO - [run] Exit",
    "2025-07-11 19:43:43,255 - INFO - [get_credentials] Enter",
    "2025-07-11 19:43:43,256 - INFO - get_credentials returning credentials: ('PhotoBooth_UKXQRTXG', '9zKg1hnpvXIB')",
    "2025-07-11 19:43:43,256 - INFO - [get_credentials] Exit",
    "2025-07-11 19:43:43,256 - INFO - Hotspot started and timer set for shutdown",
    "2025-07-11 19:43:43,270 - DEBUG - Systemd logs retrieved for hostapd",
    "2025-07-11 19:43:43,284 - DEBUG - Systemd logs retrieved for dnsmasq",
    "2025-07-11 19:43:43,298 - DEBUG - Systemd logs retrieved for nodogsplash",
    "2025-07-11 19:43:43,312 - DEBUG - Systemd logs retrieved for flask_rpi.service",
    "2025-07-11 19:43:43,312 - INFO - [/share] Added systemd logs to response",
    "2025-07-11 19:43:43,312 - INFO - [/share] Exit endpoint (success)",
    "2025-07-11 19:43:43,312 - INFO - [attach_app_log_to_response] Enter for app.log"
  ],
  "journal": {
    "dnsmasq": [
      "Jul 11 19:43:42 raspberrypi systemd[1]: Starting dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server...",
      "Jul 11 19:43:42 raspberrypi dnsmasq[1755]: started, version 2.90 cachesize 150",
      "Jul 11 19:43:42 raspberrypi dnsmasq[1755]: compile time options: IPv6 GNU-getopt DBus no-UBus i18n IDN2 DHCP DHCPv6 no-Lua TFTP conntrack ipset nftset auth cryptohash DNSSEC loop-detect inotify dumpfile",
      "Jul 11 19:43:42 raspberrypi dnsmasq-dhcp[1755]: DHCP, IP range 192.168.5.10 -- 192.168.5.100, lease time 1d",
      "Jul 11 19:43:42 raspberrypi dnsmasq-dhcp[1755]: DHCP, sockets bound exclusively to interface wlan0",
      "Jul 11 19:43:42 raspberrypi dnsmasq[1755]: no servers found in /run/dnsmasq/resolv.conf, will retry",
      "Jul 11 19:43:42 raspberrypi dnsmasq[1755]: read /etc/hosts - 7 names",
      "Jul 11 19:43:42 raspberrypi systemd[1]: Started dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server."
    ],
    "flask_rpi.service": [
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,115 - INFO - [force_splash] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,116 - DEBUG - [force_splash] /share route, bypass splash",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,116 - INFO - [force_splash] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,117 - INFO - [/share] Enter endpoint",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,137 - INFO - Image uploaded to /tmp/uploaded_image.png",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,193 - DEBUG - STREAM b'IHDR' 16 13",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,194 - DEBUG - STREAM b'IDAT' 41 65536",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,195 - INFO - Uploaded file verified as image",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,196 - INFO - [HotspotShareImage.__init__] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,196 - INFO - [HotspotShareImage.__init__] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,196 - INFO - [run] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,197 - INFO - [generate_random_credentials] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,197 - INFO - Generated SSID=PhotoBooth_UKXQRTXG, Password=***hidden***",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,198 - INFO - [generate_random_credentials] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,198 - DEBUG - Credentials set",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,198 - INFO - [update_hostapd_conf] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,199 - DEBUG - Read hostapd.conf lines",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,199 - INFO - Updated ssid line: ssid=PhotoBooth_UKXQRTXG",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,200 - INFO - Updated ignore_broadcast_ssid line: 1",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,200 - INFO - Updated wpa_passphrase line",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,201 - INFO - hostapd config updated",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,201 - INFO - [update_hostapd_conf] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,202 - INFO - [copy_image] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,211 - INFO - Image copied to /etc/nodogsplash/htdocs/uploaded_image.png",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,211 - INFO - [copy_image] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,212 - INFO - [generate_qrcode] Enter",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,212 - DEBUG - QR directory ensured: /tmp",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,249 - INFO - QR code generated at /tmp/wifi_qr.png",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,249 - INFO - [generate_qrcode] Exit",
      "Jul 11 19:43:41 raspberrypi python3[716]: 2025-07-11 19:43:41,249 - INFO - [update_splash_html] Enter"
    ],
    "hostapd": [
      "Jul 11 19:43:41 raspberrypi systemd[1]: Stopping hostapd.service - Access point and authentication server for Wi-Fi and Ethernet...",
      "Jul 11 19:43:42 raspberrypi systemd[1]: hostapd.service: Deactivated successfully.",
      "Jul 11 19:43:42 raspberrypi systemd[1]: Stopped hostapd.service - Access point and authentication server for Wi-Fi and Ethernet.",
      "Jul 11 19:43:42 raspberrypi systemd[1]: Starting hostapd.service - Access point and authentication server for Wi-Fi and Ethernet...",
      "Jul 11 19:43:42 raspberrypi hostapd[1740]: wlan0: interface state UNINITIALIZED->COUNTRY_UPDATE",
      "Jul 11 19:43:42 raspberrypi hostapd[1740]: wlan0: interface state COUNTRY_UPDATE->ENABLED",
      "Jul 11 19:43:42 raspberrypi hostapd[1740]: wlan0: AP-ENABLED",
      "Jul 11 19:43:42 raspberrypi systemd[1]: Started hostapd.service - Access point and authentication server for Wi-Fi and Ethernet."
    ],
    "nodogsplash": [
      "Jul 11 19:43:42 raspberrypi nodogsplash[729]: [5][Fri Jul 11 19:43:42 2025][729](src/main.c:131) Handler for termination caught signal 15",
      "Jul 11 19:43:42 raspberrypi systemd[1]: Stopping nodogsplash.service - NoDogSplash Captive Portal...",
      "Jul 11 19:43:43 raspberrypi nodogsplash[1857]: iptables v1.8.9 (nf_tables): chain `ndsOUT' in table `mangle' is incompatible, use 'nft' tool.",
      "Jul 11 19:43:43 raspberrypi nodogsplash[1860]: iptables v1.8.9 (nf_tables): chain `ndsINC' in table `mangle' is incompatible, use 'nft' tool.",
      "Jul 11 19:43:43 raspberrypi systemd[1]: nodogsplash.service: Main process exited, code=killed, status=9/KILL",
      "Jul 11 19:43:43 raspberrypi systemd[1]: nodogsplash.service: Failed with result 'signal'.",
      "Jul 11 19:43:43 raspberrypi systemd[1]: Stopped nodogsplash.service - NoDogSplash Captive Portal.",
      "Jul 11 19:43:43 raspberrypi systemd[1]: nodogsplash.service: Consumed 1.159s CPU time.",
      "Jul 11 19:43:43 raspberrypi systemd[1]: Starting nodogsplash.service - NoDogSplash Captive Portal...",
      "Jul 11 19:43:43 raspberrypi nodogsplash[1884]: [5][Fri Jul 11 19:43:43 2025][1884](src/main.c:354) Starting as daemon, forking to background",
      "Jul 11 19:43:43 raspberrypi nodogsplash[1885]: [5][Fri Jul 11 19:43:43 2025][1885](src/main.c:273) Detected gateway wlan0 at 192.168.5.1 (e4:5f:01:a7:8a:5c)",
      "Jul 11 19:43:43 raspberrypi nodogsplash[1885]: [5][Fri Jul 11 19:43:43 2025][1885](src/main.c:289) Created web server on 192.168.5.1",
      "Jul 11 19:43:43 raspberrypi systemd[1]: Started nodogsplash.service - NoDogSplash Captive Portal."
    ]
  },
  "password": "9zKg1hnpvXIB",
  "qr_code_base64": "iVBORw0KGgoAAAANSUhEUgAAAZoAAAGaAQAAAAAefbjOAAAC+ElEQVR4nO2czW3jMBCFv1kZyJEGtgCXQnWwJaU1qRQXsIB0DCDh7YE/YYJckngtRxodDCjWB5PQ4HHmDRkTn77GX59nwCGHHHLIIYcc2idk+Tph/Vxuelazfj4Bzd+2GJ5Dd4SQJBElSVMnCEofGugkaUGaOjXPDQ8+J4duAc1ZADTMZtK0mj1PkDUCMLPTdsNz6G7Q6d29Ef6eYD7DeHkxxvOtfsmhnwlpoBPQSQMgacH6//FLDj0mVDQiCJgBZgPoIF5PwPxbMEPrZD34nBy6ATSamdkZ7HnqRJzAejpZD1jPmkqNrYbn0L01ohWA8JJevMbLi0FYyAqyxfAcujtUqs8JSuKgNo8YgkScOmkIC1597h9KIZBth2RKgDQBcQKikka0j3hE7BlqNIJYUojsVRWHCuiUYsM1YvdQWSZel4SQV40cINWzTOuHR8TeoepiL0UZwpJcCA3pgSIUOUA8InYO1eyhvO4UDKFmmyEriGvEQaA2j0gVRsjpZbNgNHmnR8RBoPGimkWC2UWC+Ulml4WmTd5vMzyH7g7Fa90fwWrEaS1Nrrk6lRsOz6EN/AjVrRFLanelnlfNJ9O3nkfsHiqmU7Emkz+Za42uRovnEYeBWttajT+p5GJnUSD3xT0i9g813nUxLsvbH0JONNOqEV0jDgE1nqWGUFUAckRUU9s14iBQ0+nKtxNFFFJz47XNgfc1jgONdip9TgDKfltJC2aXt872z5iTQ9/rayhvx0/ZQ2p8LVky0uXV5yGgtqrMsbE0q0Y2JVT7oR4Re4dq9QlQt2GrbpoCctuzKUsffE4O3QCKtQQlvJjZJZcZpCgJS9mavc3wHLo/VM906fokDeS+hjStxmhvmxs/ZE4OfQX64EzXgsXrk4hT3qMtWNNzFof7Ds+hu0PvIyJfNYUY+26xOHRiPHdlF/+Dz8mh70Dvz3Rp/APp3Cd0i0WtacGwKNeII0Af1Brlqqc00r6q11ao1xp7hsz/M5lDDjnkkEMOOfRF6B9dAskDoos6WQAAAABJRU5ErkJggg==",
  "ssid": "PhotoBooth_UKXQRTXG"
}